# Clipchamp 클론 - 초상세 구현 계획

## 목표
Microsoft Clipchamp의 모든 기능을 웹 기반으로 구현하는 전문급 비디오 편집기 개발

---

# Phase 1: 멀티 트랙 타임라인 시스템

## 1.1 타임라인 구조

### 트랙 시스템
```
┌─────────────────────────────────────────────────────────┐
│ [🔒] [👁️] Video 1    │ ████████████ │ ████ │           │
│ [🔒] [👁️] Video 2    │      ████████████████████       │
│ [🔒] [👁️] Text       │ ████ │        ████████          │
│ [🔒] [👁️] Audio 1    │ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~    │ (파형)
│ [🔒] [👁️] Audio 2    │      ~~~~~~~~~~~~~~~~~~         │
└─────────────────────────────────────────────────────────┘
```

### 트랙 컨트롤 (각 트랙 왼쪽)
| 요소 | 동작 | 상세 |
|------|------|------|
| 🔒 잠금 | 클릭 토글 | 잠긴 트랙은 클립 이동/편집 불가 |
| 👁️ 표시 | 클릭 토글 | 숨긴 트랙은 미리보기에서 안보임 |
| 트랙명 | 더블클릭 | 이름 변경 인라인 에디터 |
| 드래그 핸들 | 드래그 | 트랙 순서 변경 |

### 클립 표시
- **비디오 클립**: 썸네일 프레임 연속 표시
- **오디오 클립**: 파형(Waveform) 시각화
- **텍스트 클립**: 텍스트 내용 라벨 표시
- **선택된 클립**: 테두리 하이라이트 + 핸들 표시

---

## 1.2 클립 조작 - 세부 동작

### Split (분할)
```
[이전]  ████████████████████████
              ▼ 플레이헤드 위치에서 S 키
[이후]  ████████████ │ ████████████
```

| 트리거 | 동작 |
|--------|------|
| 단축키 `S` | 선택된 클립을 플레이헤드 위치에서 분할 |
| 우클릭 → Split | 컨텍스트 메뉴에서 분할 |
| 동작 | 하나의 클립이 두 개로 분리, 각각 독립 편집 가능 |

### Trim (트리밍)
```
[마우스로 드래그]
◀────█████████████████████────▶
│                              │
시작점 핸들                 끝점 핸들
```

| 트리거 | 동작 |
|--------|------|
| 클립 시작점 드래그 | 클립 시작 시간 조절 (원본에서 앞부분 숨김) |
| 클립 끝점 드래그 | 클립 끝 시간 조절 (원본에서 뒷부분 숨김) |
| 단축키 `Z` + `←/→` | 시작점 트림 (Shift로 큰 단위) |
| 단축키 `C` + `←/→` | 끝점 트림 (Shift로 큰 단위) |
| 트림 단위 | 기본 0.1초, Shift 시 1초 |

### 복사/붙여넣기/삭제
| 단축키 | 동작 |
|--------|------|
| `Ctrl+C` | 선택된 클립 복사 |
| `Ctrl+X` | 선택된 클립 잘라내기 |
| `Ctrl+V` | 플레이헤드 위치에 붙여넣기 |
| `Ctrl+D` | 클립 복제 (바로 옆에) |
| `Delete` / `Backspace` | 클립 삭제 |
| `Ctrl+Z` | 실행 취소 |
| `Ctrl+Y` | 다시 실행 |

### 스냅핑 (Snapping)
```
[스냅 동작]
클립 이동 시 → 다른 클립 경계에 가까워지면 → 자동 정렬
         │                              │
      ████████                    ████████
              ↑ 스냅 포인트
```

| 스냅 대상 | 임계값 |
|-----------|--------|
| 다른 클립 시작/끝점 | 10px 이내 |
| 플레이헤드 | 10px 이내 |
| 타임 마커 | 10px 이내 |
| 동작 | 임계값 내 진입 시 자석처럼 붙음 |
| 토글 | 스냅 on/off 버튼 또는 단축키 |

### 리플 편집 (Ripple Edit)
```
[클립 삭제 시]
이전: ████████ GAP ████████████████
이후: ████████████████████████  (갭 자동 제거)
```

| 동작 | 설명 |
|------|------|
| 갭 우클릭 → "Delete all visual gaps" | 모든 갭 제거 |
| 리플 삭제 | 클립 삭제 시 뒤 클립들 자동 당김 |

### 그룹화
| 단축키 | 동작 |
|--------|------|
| `Ctrl+G` | 선택된 클립들 그룹화 |
| `Ctrl+Shift+G` | 그룹 해제 |
| 동작 | 그룹된 클립들은 함께 이동/삭제 |

---

## 1.3 타임라인 네비게이션

### 줌 & 스크롤
| 조작 | 동작 |
|------|------|
| `Ctrl` + 마우스 휠 | 타임라인 줌 인/아웃 |
| `Ctrl` + `=` | 줌 인 |
| `Ctrl` + `-` | 줌 아웃 |
| `Ctrl` + `0` | 전체 맞춤 (Fit to window) |
| 마우스 휠 | 수평 스크롤 |
| `↑` / `↓` | 수직 스크롤 (트랙 간 이동) |

### 플레이헤드 이동
| 조작 | 동작 |
|------|------|
| 클릭 | 클릭 위치로 이동 |
| `←` / `→` | 1프레임 이동 |
| `Shift` + `←` / `→` | 10프레임 이동 |
| `Ctrl` + `←` | 시작점으로 이동 |
| `Ctrl` + `→` | 끝점으로 이동 |
| `Space` | 재생/일시정지 |

---

# Phase 2: 고급 편집 도구

## 2.1 비디오 변환 (Transform)

### 회전 (Rotate)
| 파라미터 | 범위 | UI |
|----------|------|---|
| 각도 | 0° ~ 360° | 슬라이더 + 숫자 입력 |
| 프리셋 | 0°, 90°, 180°, 270° | 버튼 4개 |
| 반전 | 수평 / 수직 | 토글 버튼 2개 |

### 크롭 (Crop)
```
┌─────────────────────────────┐
│  ●─────────────────────●    │  ← 드래그 가능한 코너
│  │                     │    │
│  │   [표시 영역]       │    │
│  │                     │    │
│  ●─────────────────────●    │
└─────────────────────────────┘
```

| 설정 | 옵션 |
|------|------|
| 자유 크롭 | 드래그로 영역 선택 |
| 비율 프리셋 | 16:9, 9:16, 1:1, 4:5, 4:3 |
| 수치 입력 | X, Y, Width, Height |

### 위치 & 크기 (Position & Scale)
| 파라미터 | 범위 | 조작 |
|----------|------|------|
| X 위치 | -100% ~ 200% | 슬라이더/드래그 |
| Y 위치 | -100% ~ 200% | 슬라이더/드래그 |
| 스케일 | 10% ~ 400% | 슬라이더/드래그 |
| 캔버스 드래그 | - | 직접 위치 이동 |
| 코너 드래그 | - | 크기 조절 |

---

## 2.2 속도 조절 (Speed)

| 파라미터 | 범위 | 효과 |
|----------|------|------|
| 속도 | 0.1x ~ 16x | 슬라이더 |
| 0.25x | - | 슬로모션 |
| 0.5x | - | 절반 속도 |
| 1x | - | 정상 (기본값) |
| 2x | - | 2배속 |
| 4x ~ 16x | - | 고속 재생 |
| 역재생 (Reverse) | 토글 | 비디오 뒤로 재생 |
| 프리즈 프레임 | 버튼 | 현재 프레임 정지 이미지 생성 |

---

## 2.3 오디오 편집

### 볼륨 조절
| 파라미터 | 범위 | UI |
|----------|------|---|
| 볼륨 | 0% ~ 200% | 슬라이더 |
| 음소거 | 토글 | 🔇 버튼 |
| 좌우 밸런스 | L100 ~ R100 | 슬라이더 |

### 페이드 인/아웃
| 파라미터 | 범위 | UI |
|----------|------|---|
| 페이드 인 시간 | 0초 ~ 10초 | 슬라이더 |
| 페이드 아웃 시간 | 0초 ~ 10초 | 슬라이더 |
| 커브 | Linear, Ease | 드롭다운 |

### 오디오 분리
```
[분리 전] 비디오+오디오 통합
           ↓ "Detach Audio" 클릭
[분리 후] 비디오 트랙
          오디오 트랙 (별도)
```

### 노이즈 억제
| 설정 | 동작 |
|------|------|
| Noise Suppression 토글 | AI 기반 배경 노이즈 제거 |
| 강도 | Low / Medium / High |

---

# Phase 3: 필터 & 색상 보정 ✅ 완료

## 3.1 색상 보정 슬라이더

| 파라미터 | 범위 | 기본값 | 효과 |
|----------|------|--------|------|
| Exposure | -100 ~ +100 | 0 | 전체 밝기 |
| Contrast | -100 ~ +100 | 0 | 명암 대비 |
| Saturation | -100 ~ +100 | 0 | 색상 채도 |
| Temperature | -100 ~ +100 | 0 | 색온도 (차가움↔따뜻함) |
| Fade | 0 ~ 100 | 0 | 전체 페이드 효과 |

## 3.2 필터 프리셋

| 카테고리 | 필터 목록 |
|----------|----------|
| Basic | None, Warm, Cool, Vintage |
| Cinematic | Cinema, Film Noir, Teal & Orange |
| Mood | Happy, Dramatic, Romantic |
| Retro | 70s, 80s VHS, Sepia |
| B&W | Black & White, High Contrast B&W |

| 설정 | UI |
|------|---|
| 필터 선택 | 썸네일 그리드 클릭 |
| 강도 | 0% ~ 100% 슬라이더 |

---

# Phase 4: 트랜지션 (취소됨) 🚫
사용자 요청에 의해 스킵됨.

---

# Phase 5: 텍스트 & 타이틀

## 5.1 텍스트 유형

| 유형 | 설명 |
|------|------|
| Plain Text | 기본 텍스트, 모든 속성 커스텀 |
| Text Styles | 디자인된 폰트 스타일 프리셋 |
| Animated Titles | 등장/퇴장 애니메이션 포함 |

## 5.2 텍스트 스타일링

| 속성 | 옵션 | UI |
|------|------|---|
| 폰트 | 100+ Google Fonts | 드롭다운 |
| 크기 | 8px ~ 500px | 슬라이더/입력 |
| 색상 | 모든 색상 | 컬러 피커 + HEX |
| 배경색 | 모든 색상 | 컬러 피커 + 투명도 |
| 정렬 | Left / Center / Right | 버튼 3개 |
| 굵기 | Normal / Bold | 토글 |
| 기울임 | Normal / Italic | 토글 |
| 자간 | -50 ~ 100 | 슬라이더 |
| 행간 | 0.5 ~ 3.0 | 슬라이더 |
| 그림자 | On/Off + Color + Blur | 토글 + 설정 |
| 외곽선 | On/Off + Color + Width | 토글 + 설정 |

## 5.3 텍스트 애니메이션

| 카테고리 | 애니메이션 |
|----------|------------|
| **등장** | Fade In, Slide In, Scale In, Typewriter, Drop |
| **퇴장** | Fade Out, Slide Out, Scale Out, Rise |
| **반복** | Bounce, Pulse, Shake, Glow |

| 파라미터 | 범위 |
|----------|------|
| 애니메이션 시간 | 0.1초 ~ 3초 |
| 지연 시간 | 0초 ~ 5초 |

## 5.4 텍스트 위치

```
[위치 프리셋 그리드]
┌───┬───┬───┐
│ ↖ │ ↑ │ ↗ │
├───┼───┼───┤
│ ← │ ● │ → │
├───┼───┼───┤
│ ↙ │ ↓ │ ↘ │
└───┴───┴───┘
+ 자유 드래그
```

---

# Phase 6: AI 기능

## 6.1 자동 자막 (Auto Captions)

### 동작 흐름
```
1. "Generate Captions" 클릭
2. 언어 선택 (한국어, 영어 등 100+)
3. AI가 음성 인식 → 자막 생성
4. 자막 편집기에서 수정
5. 스타일 적용
6. 타임라인에 자막 트랙 추가
```

### 자막 편집기
| 기능 | 설명 |
|------|------|
| 텍스트 수정 | 개별 자막 텍스트 인라인 편집 |
| 타이밍 수정 | 시작/끝 시간 드래그 또는 입력 |
| 자막 병합/분할 | 여러 자막 합치기 또는 나누기 |
| SRT 내보내기 | .srt 파일로 다운로드 |
| SRT 가져오기 | 기존 자막 파일 불러오기 |

### 자막 스타일
| 속성 | 옵션 |
|------|------|
| 폰트 | 드롭다운 |
| 크기 | 슬라이더 |
| 색상 | 컬러 피커 |
| 배경 | Solid / Transparent |
| 위치 | Bottom / Top / Custom |

## 6.2 AI 음성 생성 (TTS)

### 동작 흐름
```
1. 텍스트 입력
2. 언어 선택
3. 음성 선택 (남성/여성, 스타일)
4. 속도/톤 조절
5. "Generate" → 오디오 생성
6. 타임라인에 추가
```

### 설정
| 파라미터 | 옵션 |
|----------|------|
| 언어 | 30+ 언어 |
| 음성 | 남성, 여성, 다양한 스타일 |
| 속도 | 0.5x ~ 2x |
| 피치 | -50% ~ +50% |

## 6.3 AI 보조 기능

| 기능 | 동작 |
|------|------|
| 무음 제거 | 자동으로 침묵 구간 감지 → 삭제 |
| 노이즈 제거 | 배경 소음 AI 필터링 |
| 배경 제거 | 이미지용 AI 배경 투명화 |

---

# Phase 7: 콘텐츠 라이브러리

## 7.1 스톡 미디어 통합

### UI 구조
```
[사이드바]
├── 📂 내 미디어
├── 🎬 스톡 비디오
├── 🖼️ 스톡 이미지
├── 🎵 음악
├── 🔊 효과음
└── 😀 스티커
```

### 검색 & 필터
| 기능 | 설명 |
|------|------|
| 키워드 검색 | 텍스트 입력 |
| 카테고리 필터 | Nature, Business, People 등 |
| 정렬 | 인기순, 최신순 |
| 미리보기 | 호버 시 재생 |

## 7.2 스티커 & 도형

### 스티커 종류
- 이모지
- GIPHY GIF
- 애니메이션 스티커

### 도형 종류
| 카테고리 | 요소 |
|----------|------|
| Basic | 사각형, 원, 삼각형, 선 |
| Arrows | 다양한 화살표 |
| Speech | 말풍선, 생각 풍선 |
| Hand-drawn | 손그림 스타일 도형 |

---

# Phase 8: 내보내기 & 저장

## 8.1 내보내기 설정

### 해상도 옵션
| 해상도 | 용도 | 파일 크기 |
|--------|------|----------|
| 480p (SD) | 초안, 빠른 공유 | 작음 |
| 720p (HD) | 소셜 미디어 | 중간 |
| 1080p (Full HD) | YouTube, 스트리밍 | 큼 |
| 4K (UHD) | 전문 제작 | 매우 큼 |

### 포맷
| 포맷 | 확장자 | 용도 |
|------|--------|------|
| MP4 (H.264) | .mp4 | 표준 비디오 |
| WebM | .webm | 웹 최적화 |
| GIF | .gif | 15초 이하 애니메이션 |
| Audio Only | .m4a | 오디오만 추출 |

### 품질 설정
| 옵션 | 비트레이트 |
|------|-----------|
| Low | 낮은 비트레이트 |
| Medium | 중간 비트레이트 (권장) |
| High | 높은 비트레이트 |

## 8.2 프로젝트 저장

| 저장 방식 | 설명 |
|-----------|------|
| 자동 저장 | 매 30초 IndexedDB 저장 |
| 프로젝트 내보내기 | .json 파일로 다운로드 |
| 프로젝트 가져오기 | .json 파일 불러오기 |
| 클라우드 연동 | 선택적 OneDrive/Google Drive |

---

# 단축키 전체 목록

## 일반
| 단축키 | 동작 |
|--------|------|
| `Ctrl+S` | 프로젝트 저장 |
| `Ctrl+Z` | 실행 취소 |
| `Ctrl+Y` | 다시 실행 |
| `Ctrl+A` | 전체 선택 |
| `Esc` | 선택 해제 |
| `Ctrl+/` | 단축키 도움말 |

## 재생
| 단축키 | 동작 |
|--------|------|
| `Space` | 재생/일시정지 |
| `←` / `→` | 1프레임 이동 |
| `Shift+←` / `→` | 10프레임 이동 |
| `Ctrl+←` | 시작으로 |
| `Ctrl+→` | 끝으로 |

## 편집
| 단축키 | 동작 |
|--------|------|
| `S` | 분할 |
| `Delete` | 삭제 |
| `Ctrl+C` | 복사 |
| `Ctrl+X` | 잘라내기 |
| `Ctrl+V` | 붙여넣기 |
| `Ctrl+D` | 복제 |
| `Ctrl+G` | 그룹화 |

## 트리밍
| 단축키 | 동작 |
|--------|------|
| `Z+←/→` | 시작점 트림 |
| `C+←/→` | 끝점 트림 |
| `Shift` 추가 | 큰 단위로 트림 |

## 타임라인
| 단축키 | 동작 |
|--------|------|
| `Ctrl+=` | 줌 인 |
| `Ctrl+-` | 줌 아웃 |
| `Ctrl+0` | 전체 맞춤 |

---

# 기술 구현 상세

## 핵심 기술 스택

| 영역 | 기술 | 용도 |
|------|------|------|
| 렌더링 | Pixi.js v8 | 캔버스 렌더링 |
| 오디오 | Web Audio API | 오디오 처리, 파형 분석 |
| 비디오 인코딩 | FFmpeg.wasm | 내보내기, 트랜스코딩 |
| 상태 관리 | Pinia | 전역 상태 |
| 저장 | IndexedDB (Dexie.js) | 로컬 프로젝트 저장 |
| AI 자막 | Web Speech API / Whisper | 음성 인식 |
| TTS | Web Speech Synthesis | 음성 생성 |
| 스톡 미디어 | Pexels/Pixabay API | 무료 미디어 |
